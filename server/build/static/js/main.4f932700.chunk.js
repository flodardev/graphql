(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){e.exports=n(115)},105:function(e,t,n){},106:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(38),o=n.n(l),c=n(62),u=n(63),m=n(85),i=(n(105),n(106),n(57)),d=n(86),s=n(61),E=n(35);function b(){var e=Object(s.a)(["\n\tmutation AddBook($name: String!, $genre: String!, $authorId: ID!) {\n\t\taddBook(name: $name, genre: $genre, authorId: $authorId) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return b=function(){return e},e}function g(){var e=Object(s.a)(["\n\tquery GetAuthors {\n\t\tauthors {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return g=function(){return e},e}function h(){var e=Object(s.a)(["\n\tquery GetBook($id: ID!) {\n\t\tbook(id: $id) {\n\t\t\tid\n\t\t\tname\n\t\t\tgenre\n\t\t\tauthor {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tage\n\t\t\t\tbooks {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return h=function(){return e},e}function v(){var e=Object(s.a)(["\n\tquery GetBooks {\n\t\tbooks {\n\t\t\tid\n\t\t\tname\n\t\t\tgenre\n\t\t}\n\t}\n"]);return v=function(){return e},e}var f=Object(E.a)(v()),p=Object(E.a)(h()),k=Object(E.a)(g()),j=Object(E.a)(b()),O=n(118),y=n(94),I=r.a.memo((function(e){var t=e.bookId,n=Object(d.a)(p,{variables:{id:t}}),a=n.loading,l=n.error,o=n.data;return a?r.a.createElement("p",null,"Loading..."):l?r.a.createElement("p",null,"Error"):r.a.createElement(O.a,Object.assign({},e,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(O.a.Header,{closeButton:!0},r.a.createElement(O.a.Title,{id:"contained-modal-title-vcenter"},o.book.name,r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},o.book.genre)))),r.a.createElement(O.a.Body,null,r.a.createElement("h5",null,"Author"),r.a.createElement("div",{className:"container"},r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),o.book.author.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Age: "),o.book.author.age),r.a.createElement("strong",null,"Books by this author:"),r.a.createElement("ul",null,o.book.author.books.map((function(e){return r.a.createElement("li",null,e.name)}))))),r.a.createElement(O.a.Footer,null,r.a.createElement(y.a,{onClick:e.onHide},"Close")))})),B=n(69),w=n(81),C=n(87),$=n(39),A=n(82);var N=function(){var e=Object(a.useState)({name:"",genre:"",authorId:""}),t=Object(i.a)(e,2),n=t[0],l=t[1],o=Object(C.a)(j),c=Object(i.a)(o,1)[0],u=Object(d.a)(k),m=u.loading,s=u.error,E=u.data;if(m)return r.a.createElement("p",null,"Loading...");if(s)return r.a.createElement("p",null,"Error :(");var b=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(B.a)({},n,a))}))};return r.a.createElement(A.a,{className:"mb-3"},r.a.createElement(A.a.Body,null,r.a.createElement($.a,{onSubmit:function(e){e.preventDefault(),c({variables:{name:n.name,genre:n.genre,authorId:n.authorId},refetchQueries:[{query:f}]}),l({name:"",genre:"",authorId:""})}},r.a.createElement($.a.Label,null,"Book name:"),r.a.createElement($.a.Control,{type:"text",name:"name",value:n.name,onChange:b}),r.a.createElement($.a.Label,null,"Genre:"),r.a.createElement($.a.Control,{type:"text",name:"genre",value:n.genre,onChange:b}),r.a.createElement($.a.Label,null,"Author:"),r.a.createElement($.a.Control,{as:"select",name:"authorId",onChange:b},r.a.createElement("option",{defaultValue:!0},"Author"),E.authors.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement(y.a,{className:"mt-3",variant:"primary",type:"submit"},"Add"))))},L=n(117);var S=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),u=c[0],m=c[1],s=Object(d.a)(f),E=s.loading,b=s.error,g=s.data;if(E)return r.a.createElement("p",null,"Loading...");if(b)return r.a.createElement("p",null,"Error :(");var h=function(e){l(e.target.value)};return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(N,null),g.books.map((function(e){return r.a.createElement(A.a,{key:e.id,onClick:h},r.a.createElement(A.a.Body,null,r.a.createElement(A.a.Title,null,e.name),r.a.createElement("small",{className:"text-muted"},e.genre)),r.a.createElement(y.a,{className:"ml-3 mb-3",value:e.id,variant:"primary",size:"sm",onClick:function(){return m(!0)}},"More"))}))),u&&r.a.createElement(I,{bookId:n,show:u,onHide:function(){return m(!1)}}))};var q=function(){return r.a.createElement("div",{className:"App container"},r.a.createElement("h1",null,"Reading List"),r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=new c.a({uri:"/graphql",cache:new u.a});o.a.render(r.a.createElement(m.a,{client:x},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.4f932700.chunk.js.map